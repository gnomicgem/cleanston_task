<turbo-frame id="cart-item-<%= cart_item.id %>">
  <div class="flex items-center border-b py-4">
    <img src="<%= asset_path(cart_item.item.image) %>" alt="<%= cart_item.item.name %>" class="w-24 h-24 object-cover rounded-lg mr-4">

    <div class="flex-1">
      <h2 class="text-base font-normal text-dark_gray_900"><%= cart_item.item.name %></h2>

      <%= form_with model: cart_item, url: cart_item_path(cart_item), turbo_method: :patch, data: { turbo_frame: "cart-item-#{cart_item.id}", controller: "auto-submit" } do |f| %>
        <%= f.number_field :amount, min: 1, class: "border rounded px-2 py-1 w-16 text-center text-dark_gray_900 font-bold", value: cart_item.amount, data: { action: "change->auto-submit#submitForm" } %>
      <% end %>

      <p class="text-dark_gray_900 font-semibold text-lg"><%= number_to_currency(cart_item.calculate_total_price, unit: "₽") %></p>
    </div>

    <%= link_to cart_item_path(cart_item), data: { turbo_method: :delete, turbo_confirm: "Удалить товар?" }, class: "text-gray p-2" do %>
      <%= image_tag("icons/trash.svg", alt: "Удалить", class: "w-5 h-5 object-cover rounded-lg mr-4") %>
    <% end %>
  </div>
</turbo-frame>
